import requests

ipAddress = 'localhost:5020'

URL = 'http://' + ipAddress + '/msg/new'

JSON = {
    'sender': '2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d494942496a414e42676b71686b6947397730424151454641414f43415138414d49494243674b434151454174796b4e4f6c634366716a425761654e4b3977560a497a4e6f4a4d68586c782b7a727a7759777263545549742f684f6131684773447a357a78464f3443307578566f6a483366707569497262565330574f626a48470a686548457438665777697148564a684c3637586249456652505343553670784275596d2b51782f48373971524d634e693471786f784b495155467933687465530a6c416f474d662f4f5a7479656e383935367a4a776642774a4e624558476f6147594c704836596c7a434c796a36495953334667783031526378735554656249500a6d6a705364366739683752784b336e416b3645792f6151344a3838354477377667456f4b59726d37564e7251366f77737238745670746c7657756839535a48610a6f53624e6b365154702b48786673796661357350344c6f6f304b54375268326a4d774353626448635247506845654256486e6573525747387357414135614d720a52774944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',
    'recipient': '2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d494942496a414e42676b71686b6947397730424151454641414f43415138414d49494243674b4341514541725851447870766679464643496973505a426e370a7a7a49523434725a4b4a2f596e5058524d4b47725471376469394630685a4b6e4f4e74476f464a71702f6f796d4c486749417361375150467932362f575164530a566357675a6831394a717768493272396f496b4f62615a2f4d2f596a363574716b316c734961465142663237636f6e416f6d30314b493368533145702b324e6b0a7676332f436b346b4969415844666f4362673976332f354951453936666a454864475a314a415342455a5632696139786762373843536532646c4233367768760a503278736d787a5776632f306845307937325762623834416e422b4b644e775367366a336448686747744174472b6635706766754d6f393732355159745a352f0a632b383843662b366557653467326c77714c5a63302f396a6a456d6c417674564c62632f6e536f2f574862765937444268356f7a3572796276783676617a737a0a34514944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',
    'original_msg': '1f5d66dc8af2587ac74e50eae32957087290a2414245bbf2c190ff488b0c114f',
    'modified_msg': 'a33b399bcb49d0579d06e291f3bd00a44d660a92b7ab105e47c727d4010473ec',
    'similarity': '0.9821111021233212'
}

try:
    r = requests.post(url=URL, json=JSON)
except:
    print("failed to connect to {}".format(URL))
    exit()

print(r.content)

# next

JSON = {
    'sender': '2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d494942496a414e42676b71686b6947397730424151454641414f43415138414d49494243674b4341514541725851447870766679464643496973505a426e370a7a7a49523434725a4b4a2f596e5058524d4b47725471376469394630685a4b6e4f4e74476f464a71702f6f796d4c486749417361375150467932362f575164530a566357675a6831394a717768493272396f496b4f62615a2f4d2f596a363574716b316c734961465142663237636f6e416f6d30314b493368533145702b324e6b0a7676332f436b346b4969415844666f4362673976332f354951453936666a454864475a314a415342455a5632696139786762373843536532646c4233367768760a503278736d787a5776632f306845307937325762623834416e422b4b644e775367366a336448686747744174472b6635706766754d6f393732355159745a352f0a632b383843662b366557653467326c77714c5a63302f396a6a456d6c417674564c62632f6e536f2f574862765937444268356f7a3572796276783676617a737a0a34514944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',
    'recipient': '2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d494942496a414e42676b71686b6947397730424151454641414f43415138414d49494243674b434151454174796b4e4f6c634366716a425761654e4b3931684773447a357a78464f3443307578566f6a483366707569497262565330574f626a48470a686548457438665777697148564a684c3637586249456652505343553670784275596d2b51782f48373971524d634e693471786f784b4951554679377560a497a4e6f4a4d68586c782b7a727a7759777263545549742f684f613687465530a6c416f474d662f4f5a7479656e383935367a4a776642774a4e624558476f6147594c704836596c7a434c796a36495953334667783031526378735554656249500a6d6a705364366739683752784b336e416b3645792f6151344a3838354477377667456f4b59726d37564e7251366f77737238745670746c7657756839535a48610a6f53624e6b365154702b48786673796661357350344c6f6f304b54375268326a4d774353626448635247506845654256486e6573525747387357414135614d720a52774944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',
    'original_msg': 'a33b399bcb49d0579d06e291f3bd00a44d660a92b7ab105e47c727d4010473ec',
    'modified_msg': 'e2386211231792b8e224b7eac88b95ab33fe4dfd9bc40826a895fe239e18c78a',
    'similarity': '0.99110211221323484'
}

try:
    r = requests.post(url=URL, json=JSON)
except:
    print("failed to connect to {}".format(URL))
    exit()

print(r.content)

# next

URL = 'http://' + ipAddress + '/mine'
try:
    r = requests.get(url=URL)
except:
    print("failed to connect to {}".format(URL))
    exit()

print(r.content)

# next

URL = 'http://' + ipAddress + '/msg/trace'

JSON = {
    'sender': 'b',
    'recipient': 'c',
    'msg': 'bello2'
}

try:
    r = requests.post(url=URL, json=JSON)
except:
    print("failed to connect to {}".format(URL))
    exit()

print(r.content)
